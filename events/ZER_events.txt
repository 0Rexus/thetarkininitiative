###########################
# Zsinj Empire events
###########################

add_namespace = ZER
add_namespace = ZER_start
add_namespace = ZER_empire_reformation
add_namespace = ZER_news

country_event = { # Harrsk Becoming Emperor
    id = ZER_empire_reformation.1
    title = ZER_empire_reformation.1.t
    desc = ZER_empire_reformation.1.d
    picture = GFX_report_event_election_vote

    is_triggered_only = yes

    #fire_only_once = yes

    option = {
        name = ZER_empire_reformation.1.a
        custom_effect_tooltip = tt_zer_harrsk_become_emperor
        add_trait = {
            character = ZER_blitzer_harrsk
            ideology = imperial_ideology
            trait = zer_emperor
        }
        set_variable = { global.previous_emperor = var:global.emperor_id } 
        if = {
            limit = {
                ZER_blitzer_harrsk = {
                    has_trait = zer_lord_high_admiral
                }
            }
            remove_trait = {
                character = ZER_blitzer_harrsk
                ideology = imperial_ideology
                trait = zer_lord_high_admiral
            }
        }
        set_cosmetic_tag = ZER_IMPERIAL_REMNANT
        hidden_effect = {
            new_event = ZER_news.2
        }
        var:global.emperor_id = {
            clr_country_flag = emperor
        }
        set_variable = { global.emperor_id = ROOT }
        set_country_flag = emperor
        set_country_flag = imperial_remnant
        log = "Previous Emperor: [?global.previous_emperor.GetTag]"
        log = "New Emperor: [?global.emperor_id.GetTag]"
    }

}

news_event = { # Harrsk becomes Lord High Admiral
    id = ZER_news.1
    title = ZER_news.1.t
    desc = ZER_news.1.d
    picture = GFX_report_event_election_vote

    is_triggered_only = yes

    major = yes

    option = {
        name = ZER_news.1.a
    }

}

news_event = { # Harrsk becomes Emperor
    id = ZER_news.2
    title = ZER_news.2.t
    desc = ZER_news.2.desc
    picture = GFX_news_event_harrsk_becomes_emperor

    is_triggered_only = yes

    major = yes
    
    option = {
        name = ZER_news.2.a
        trigger = {
            AND = {
                NOT = { original_tag = ZER }
                has_government = imperial
                has_opinion = {
                    target = ZER
                    value > 50
                }
            }
		}
    }

    option = {
        name = ZER_news.2.b
        trigger = {
            AND = {
                NOT = { original_tag = ZER }
                has_government = imperial
            }
		}
    }

    option = {
        name = ZER_news.2.c
        trigger = {
            AND = {
                NOT = { original_tag = ZER }
                NOT = { has_government = imperial }
            }
		}
    }

    option = {
        name = ZER_news.2.d
        trigger = {
            tag = ZER
		}
    }

}

country_event = { # Fleet Modifications
    id = ZER_start.1
    title = ZER_start.1.t
    desc = ZER_start.1.d
    picture = GFX_report_event_election_vote

    is_triggered_only = yes

    fire_only_once = yes

    option = {
        name = ZER_start.1.a
        add_stability = -0.03
        custom_effect_tooltip = tt_zer_large_control_increase
        add_to_variable = { zer_harrsk_government_control = 10 }
        custom_effect_tooltip = tt_zer_kill_rice_desyk
        hidden_effect = {
            retire_character = ZER_rice_desyk
        }
    }

    option = {
        name = ZER_start.1.b
        add_political_power = 100
        add_stability = 0.05
        custom_effect_tooltip = tt_zer_medium_control_increase
        add_to_variable = { zer_harrsk_government_control = 5 }
        custom_effect_tooltip = tt_zer_imprison_rice_desyk
        hidden_effect = {
            retire_character = ZER_rice_desyk
        }
    }

}

country_event = { # Fleet Modifications
    id = ZER_start.2
    title = ZER_start.2.t
    desc = ZER_start.2.d
    picture = GFX_report_event_election_vote

    is_triggered_only = yes

    fire_only_once = yes

    option = {
        name = ZER_start.2.a
        add_war_support = -0.05
        add_political_power = -100
        remove_idea = {
            ZER_government_under_investigation
        }
    }

    option = {
        name = ZER_start.2.b
    }

}

country_event = { # Fighting on the Home Front
    id = ZER_start.3
    title = ZER_start.3.t
    desc = ZER_start.3.d
    picture = GFX_report_event_election_vote

    is_triggered_only = yes

    fire_only_once = yes

    option = {
        name = ZER_start.3.a
        add_political_power = 100
    }

    option = {
        name = ZER_start.3.b
        add_war_support = 0.03
    }

}

country_event = { # Fighting on the Home Front
    id = ZER_start.4
    title = ZER_start.4.t
    desc = ZER_start.4.d
    picture = GFX_report_event_election_vote

    is_triggered_only = yes

    fire_only_once = yes

    option = {
        name = ZER_start.4.a
        add_political_power = -25
        ZER = {
            country_event = ZER_start.5
        }
    }

    option = {
        name = ZER_start.4.b
        add_stability = -0.03
        ZER = {
            country_event = ZER_start.6
            add_opinion_modifier = {
                target = ZER
                modifier = faction_traitor
            }
        }
    }

}

country_event = { # Fighting on the Home Front
    id = ZER_start.5
    title = ZER_start.5.t
    desc = ZER_start.5.d
    picture = GFX_report_event_election_vote

    is_triggered_only = yes

    fire_only_once = yes

    option = {
        name = ZER_start.5.a
        custom_effect_tooltip = tt_zer_gain_1000_credits
		add_to_variable = { currency_amount^primary_currency = 1000 }
        add_equipment_to_stockpile = {
            type = infantry_equipment_0
            amount = 2500
        }
    }

}

country_event = { # Fighting on the Home Front
    id = ZER_start.6
    title = ZER_start.6.t
    desc = ZER_start.6.d
    picture = GFX_report_event_election_vote

    is_triggered_only = yes

    fire_only_once = yes

    option = {
        name = ZER_start.6.a
        add_political_power = -10
    }

}

country_event = { # Fighting on the Home Front
    id = ZER_start.7
    title = ZER_start.7.t
    desc = ZER_start.7.d
    picture = GFX_report_event_election_vote

    is_triggered_only = yes

    fire_only_once = yes

    option = {
        name = ZER_start.7.a
        add_stability = 0.05
    }

}

country_event = { # Fleet Modifications
    id = ZER.1
    title = ZER.1.t
    desc = ZER.1.d
    picture = GFX_report_event_election_vote

    is_triggered_only = yes

    fire_only_once = yes

    option = {
        name = ZER.1.a
        complete_national_focus = ZER_technological_innovations
        # Should also unlock technology innovation decisions
        add_ideas = tech_based_economy
    }

    option = {
        name = ZER.1.b
        complete_national_focus = ZER_standard_star_destroyers
        add_stability = 0.05
        add_ideas = war_economy
    }

}

country_event = { # Robotic Tie Fighters
    id = ZER.2
    title = ZER.2.t
    desc = ZER.2.d
    picture = GFX_report_event_election_vote

    is_triggered_only = yes

    fire_only_once = yes

    option = {
        name = ZER.2.a
        random_list = {
            80 = {
                country_event = ZER.3
            }
            20 = {
                country_event = ZER.4
            }
        }
    }
}

country_event = { # Robotic Tie Fighters Failure
    id = ZER.3
    title = ZER.3.t
    desc = ZER.3.d
    picture = GFX_report_event_election_vote

    is_triggered_only = yes

    fire_only_once = yes

    option = {
        name = ZER.3.a
        air_experience = 10
    }
}

country_event = { # Robotic Tie Fighters Success
    id = ZER.4
    title = ZER.4.t
    desc = ZER.4.d
    picture = GFX_report_event_election_vote

    is_triggered_only = yes

    fire_only_once = yes

    option = {
        name = ZER.4.a
        add_ideas = ZER_robotic_tie_fighters
    }
}

country_event = { # Shockwave Design complete
    id = ZER.5
    title = ZER.5.t
    desc = ZER.5.d
    picture = GFX_report_event_election_vote

    is_triggered_only = yes

    fire_only_once = yes

    option = {
        name = ZER.5.a
        add_political_power = 50
    }
}

country_event = { # Shockwave Fully Ready
    id = ZER.6
    title = ZER.6.t
    desc = ZER.6.d
    picture = GFX_report_event_election_vote

    is_triggered_only = yes

    fire_only_once = yes

    option = {
        name = ZER.6.a
        add_war_support = 0.1
    }
}

country_event = { # Tie Fighter Malfunctions
    id = ZER.7
    title = ZER.7.t
    desc = ZER.7.d
    picture = GFX_report_event_election_vote

    is_triggered_only = yes

    fire_only_once = yes

    option = {
        name = ZER.7.a
        add_political_power = -50
    }
}

country_event = { # Harrsk speaks to his commanders
    id = ZER.8
    title = ZER.8.t
    desc = ZER.8.d
    picture = GFX_report_event_election_vote

    is_triggered_only = yes

    fire_only_once = yes

    option = {
        name = ZER.8.a
        add_political_power = -50
    }
}

country_event = { # Harrsk speaks to his commanders
    id = ZER.9
    title = ZER.9.t
    desc = ZER.9.d
    picture = GFX_report_event_election_vote

    is_triggered_only = yes

    fire_only_once = yes

    option = {
        name = ZER.9.a
    }
}

country_event = { # Harrsk speaks to his commanders
    id = ZER.10
    title = ZER.10.t
    desc = ZER.10.d
    picture = GFX_report_event_election_vote

    is_triggered_only = yes

    fire_only_once = yes

    option = {
        name = ZER.10.a
    }
}

country_event = { # Harrsk speaks to his commanders
    id = ZER.11
    title = ZER.11.t
    desc = ZER.11.d
    picture = GFX_report_event_election_vote

    is_triggered_only = yes

    fire_only_once = yes

    option = {
        name = ZER.11.a
        add_command_power = -50
        ZER = {
            if = {
                limit = {
                    NOT = { has_idea = IMP_collaboration_level_1 }
                    NOT = { has_idea = IMP_collaboration_level_2 }
                }
                add_ideas = IMP_collaboration_level_1
            }
            if = {
                limit = {
                    has_idea = IMP_collaboration_level_1
                }
                remove_ideas = IMP_collaboration_level_1
                add_ideas = IMP_collaboration_level_2
            }
            if = {
                limit = {
                    has_idea = IMP_collaboration_level_2
                }
                remove_ideas = IMP_collaboration_level_2
                add_ideas = IMP_collaboration_level_3
            }
        }
    }

    option = {
        name = ZER.11.b
    }
}